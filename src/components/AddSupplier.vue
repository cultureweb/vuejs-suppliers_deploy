<template>
  <form>
      <!-- <button type="button" @click="logRouter" >test</button> -->
    <fieldset class="form-group">
      <label for="formGroupExampleInput">Nom du nouveau fournisseur</label>
      <input
        type="text"
        class="form-control w-50 mx-auto"
        id="formGroupExampleInput"
        v-model="newSuppliers.name"
        placeholder="Saisir ici le nom du nouveau fournisseur"
      >
      <p class="mt-4">Coordonn√©es GPS du fournisseur</p>
       <label for="formGroupExampleInput">Latitude</label>
      <input
        type="number"
        class="form-control w-50 mx-auto"
        id="formGroupExampleInput"
        v-model="newSuppliers.latitude"
        placeholder="Saisir ici la latitude"
      >
             <label for="formGroupExampleInput">Longitude</label>
      <input
        type="number"
        class="form-control w-50 mx-auto"
        id="formGroupExampleInput"
        v-model="newSuppliers.longitude"
        placeholder="Saisir ici la longitude"
      >
      <div class="row">
        <div class="col-sm-10">
          <div class="form-check">
            <input class="form-check-input" type="radio" v-model="newSuppliers.status" value="true">
            <label class="form-check-label" for="gridRadios1">A du stock</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" v-model="newSuppliers.status" value="false">
            <label class="form-check-label" for="gridRadios2">Pas de stock</label>
          </div>
        </div>
      </div>
    </fieldset>

    <div class="form-group row">
      <div class="col-sm-10">
        <button type="button" @click="createNewSupplier" class="btn btn-success">Ajouter</button>
      </div>
    </div>
  </form>
</template>

<script>
import axios from 'axios';
export default {
  data() {
    return {
      newSuppliers: 
        {
          name: "",
          latitude: "",
          longitude: "",
          status: true,
          checkedAt: new Date()
        }
      
    };
  },
  methods: {

    //   logRouter(){//fonction pour tester le router
    //       console.log(this.$router)
    //   },
      
    createNewSupplier(){
          console.log('https://api-suppliers.herokuapp.com/api/suppliers',  this.newSuppliers)
          axios.post('https://api-suppliers.herokuapp.com/api/suppliers',  this.newSuppliers)
      .then((response) => {
        this.$router.push({ path: '/suppliers' });
    //console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  });
      } 
  }
};
</script>

<style>
</style>
